<!DOCTYPE html>
<html>
<!-- When run in the browser, this will load code into the global namespace so that it can be tested via the developer console -->
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="apple-mobile-web-app-capable" content="yes">

  <title>Kite Playground</title>

  <script src="../../assert/js/assert.js"></script>
  <script src="../../sherpa/lib/lodash-4.17.4.min.js"></script>

  <script data-main="../js/kite-config.js" src="../../sherpa/lib/require-2.1.11.js"></script>

</head>
<body>
<script>
  window.assertions.enableAssert();
  window.assertions.enableAssertSlow();

  require( [ 'kite-config' ], function() {
    require( [ 'main', 'AXON/main', 'DOT/main', 'PHET_CORE/main' ], function( kite, axon, dot, phetCore ) {
      window.kite = kite;
      window.axon = axon;
      window.dot = dot;
      window.phetCore = phetCore;

      console.log( 'loaded' );

      window.initTest = function() {
        window.cubic = new kite.Cubic( dot.v2( 0,0 ), dot.v2( 0,3), dot.v2( 10,7), dot.v3( 10, 9 ) );
        return kite.Cubic.getOverlaps( cubic.subdivided( 0.7 )[ 0 ], cubic.subdivided( 0.3 )[ 1 ] );
      };

      window.initLineTest = function() {
        // intersection with one ray returns a different result than another. need to add indeterminate intersection handling
        window.shape = new kite.Shape( 'M -100 -100 L -50 50 L 50 50 L 30 0' );
        window.ray1 = new dot.Ray2( dot.v2( 50, 267 ), dot.v2( 0, -1 ) );
        window.ray2 = new dot.Ray2( dot.v2( 50, 267 ), dot.v2( 1, 0 ) );
        console.log( 'ray1: ' + shape.windingIntersection( ray1 ) );
        console.log( 'ray2: ' + shape.windingIntersection( ray2 ) );
      }
    } );
  } );
</script>
</body>
</html>
